<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<div class="" ng-init="getApiList()">
    <!-- <div class="action-bar" style="text-align: right">
		<span class="btn btn-sm btn-success glyphicon glyphicon-fullscreen" ng-if="show_all==0" ng-click="show_all=1">&nbsp;展开全部</span>
		<span class="btn btn-sm btn-info glyphicon glyphicon-list" ng-if="show_all==1" ng-click="$scope.show_all='0'">&nbsp;收起全部</span>
	</div> -->
    <div class="mb20 row">
        <div class="col-lg-3 col-lg-offset-9">
            <div class="form-search search-only">
                <i class="search-icon glyphicon glyphicon-search"></i>
                <input type="text" class="form-control search-query" ng-model="search_keyword" placeholder="搜索接口">
            </div>
        </div>
    </div>
    <div class="api-list-item" ng-repeat="g in api_list">
        <div class="text-main group-name">
            {{g.name}}({{g.apis.length}})
        </div>
        <table class="table table-hover table-fixed table-no-border w100 api-list">
            <tbody>
            <tr ng-repeat="api in g.apis">
                <td width="65" ng-switch on="api.method">
                    <span ng-switch-when="GET" class="label label-success">{{api.method}}</span>
                    <span ng-switch-when="HEAD" class="label label-success">{{api.method}}</span>
                    <span ng-switch-when="OPTIONS" class="label label-default">{{api.method}}</span>
                    <span ng-switch-when="POST" class="label label-info">{{api.method}}</span>
                    <span ng-switch-when="DELETE" class="label label-danger">{{api.method}}</span>
                    <span ng-switch-when="PUT" class="label label-warning">{{api.method}}</span>
                    <span ng-switch-when="PATCH" class="label label-primary">{{api.method}}</span>
                </td>
                <td width="200" class="ellipsis"><a ng-href="#/api/view/{{api.id}}">{{api.name}}</a></td>
                <td>{{api.brief}}</td>
                <td width="300" class="text-right">
                    <a ng-href="http://{{project_info.token}}.test.apiview.com{{api.url}}" class="btn btn-xs btn-warning" target="_blank"><i class="glyphicon glyphicon-paperclip"></i>&nbsp;测试</a>
                    <a ng-href="#/api/view/{{api.id}}" class="btn btn-xs  btn-default"><i class="glyphicon glyphicon-eye-open"></i>&nbsp;详情</a>
                    <a ng-href="#/api/copy/{{api.id}}" class="btn btn-xs  btn-primary"><i class="glyphicon glyphicon-file"></i>&nbsp;复制</a>
                    <a ng-href="#/api/edit/{{api.id}}" class="btn btn-xs  btn-info"><i class="glyphicon glyphicon-pencil"></i>&nbsp;修改</a>
                    <button class="btn btn-xs btn-danger" ng-click="apiDelete(api.name,api.id)"><i class="glyphicon glyphicon-remove"></i>&nbsp;&nbsp;删除</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="alert alert-warning" ng-if="api_list.length==0" ng-cloak>该项目还没有接口，快去添加一个吧~</div>
</div>
</html>